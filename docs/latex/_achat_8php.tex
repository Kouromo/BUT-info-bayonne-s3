\hypertarget{_achat_8php}{}\doxysection{src/\+Achat.php File Reference}
\label{_achat_8php}\index{src/Achat.php@{src/Achat.php}}


Fichier contenant les informations du billet.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_achat_8php_aabd1b8c6d9facd36634d951bb718c308}\label{_achat_8php_aabd1b8c6d9facd36634d951bb718c308}} 
{\bfseries breadcrumbs} (\$home=\textquotesingle{}Home\textquotesingle{})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{_achat_8php_aa8a5a87b9c1a6a0819b88447cbe41877}\label{_achat_8php_aa8a5a87b9c1a6a0819b88447cbe41877}} 
{\bfseries \$conn} = \mbox{\hyperlink{_conn_b_d_8php_a2744193bfddb8598a77b183aa53733c3}{Conn\+BD}}()
\item 
\mbox{\Hypertarget{_achat_8php_ae97941710d863131c700f069b109991e}\label{_achat_8php_ae97941710d863131c700f069b109991e}} 
{\bfseries \$id} = \$\+\_\+\+GET\mbox{[}\textquotesingle{}id\textquotesingle{}\mbox{]}
\item 
if(isset( \$\+\_\+\+SESSION\mbox{[} \textquotesingle{}user\+\_\+id\textquotesingle{}\mbox{]})) if(!isset(\$\+\_\+\+SESSION\mbox{[}\textquotesingle{}panier\textquotesingle{}\mbox{]})) if( \$\+\_\+\+SERVER\mbox{[} \textquotesingle{}REQUEST\+\_\+\+METHOD\textquotesingle{}\mbox{]}===\textquotesingle{}POST\textquotesingle{}) if(!isset(\$id\+Uti)) \mbox{\hyperlink{_achat_8php_a47e5d84557d4e2df9bb250750c99976e}{else}}
\item 
\mbox{\Hypertarget{_achat_8php_af27a9140d5f2658693e7fd107f716449}\label{_achat_8php_af27a9140d5f2658693e7fd107f716449}} 
{\bfseries \$stmt} = \$conn-\/$>$prepare(\char`\"{}SELECT pseudo FROM Utilisateur WHERE id\+Uti = \+:id\+Uti;\char`\"{})
\item 
\mbox{\Hypertarget{_achat_8php_ad509db951420ea936c8b01ed2a3bd7b3}\label{_achat_8php_ad509db951420ea936c8b01ed2a3bd7b3}} 
{\bfseries \$pseudo\+User} = \$stmt-\/$>$fetch()
\item 
\mbox{\Hypertarget{_achat_8php_af59a5f7cd609e592c41dc3643efd3c98}\label{_achat_8php_af59a5f7cd609e592c41dc3643efd3c98}} 
{\bfseries \$query} = \char`\"{}SELECT $\ast$ FROM Billet WHERE id = \textquotesingle{}\$id\textquotesingle{};\char`\"{}
\item 
\mbox{\Hypertarget{_achat_8php_a112ef069ddc0454086e3d1e6d8d55d07}\label{_achat_8php_a112ef069ddc0454086e3d1e6d8d55d07}} 
{\bfseries \$result} = \$conn-\/$>$query(\$query)
\item 
\mbox{\Hypertarget{_achat_8php_a233d12bd8b6d3453e9a7a3f0b8c31db2}\label{_achat_8php_a233d12bd8b6d3453e9a7a3f0b8c31db2}} 
{\bfseries \$results} = \$result-\/$>$fetch()
\item 
\mbox{\Hypertarget{_achat_8php_aac6146b4cdec66c94263ddb55afd5946}\label{_achat_8php_aac6146b4cdec66c94263ddb55afd5946}} 
{\bfseries \$image} = \textquotesingle{}images/\textquotesingle{} . trim(\$results\mbox{[}3\mbox{]}) . \textquotesingle{}.jpg\textquotesingle{}
\item 
\mbox{\hyperlink{_achat_8php_add656216f53be1ea88b46caa6c16bb0d}{if}} (isset( \$image))
\item 
\mbox{\Hypertarget{_achat_8php_a35129088a922f7d8e15921e05bd45297}\label{_achat_8php_a35129088a922f7d8e15921e05bd45297}} 
{\bfseries \$query\+User} = \char`\"{}SELECT pseudo FROM Utilisateur WHERE id\+Uti = \textquotesingle{}\$results\mbox{[}9\mbox{]}\textquotesingle{};\char`\"{}
\item 
\mbox{\Hypertarget{_achat_8php_af402e27e2b8bfd0c9da75db223cf2c96}\label{_achat_8php_af402e27e2b8bfd0c9da75db223cf2c96}} 
{\bfseries \$result\+User} = \$conn-\/$>$query(\$query\+User)
\item 
\mbox{\Hypertarget{_achat_8php_a25f7ebd58bb29bee6d8d4ede2288ace7}\label{_achat_8php_a25f7ebd58bb29bee6d8d4ede2288ace7}} 
{\bfseries \$results\+User} = \$result\+User-\/$>$fetch()
\item 
\mbox{\Hypertarget{_achat_8php_ace1abd852aa4ceeee0e86c9007ed87a2}\label{_achat_8php_ace1abd852aa4ceeee0e86c9007ed87a2}} 
{\bfseries \$query\+Avis} = \char`\"{}SELECT AVG(note\+Avis) FROM Avis WHERE id\+Receveur = \textquotesingle{}\$results\mbox{[}9\mbox{]}\textquotesingle{};\char`\"{}
\item 
\mbox{\Hypertarget{_achat_8php_a5a5c389da9075d95cfb1bb445d5d7724}\label{_achat_8php_a5a5c389da9075d95cfb1bb445d5d7724}} 
{\bfseries \$result\+Avis} = \$conn-\/$>$query(\$query\+Avis)
\item 
\mbox{\Hypertarget{_achat_8php_a5f8a4c1fb455cbdb049441d53b8c1a73}\label{_achat_8php_a5f8a4c1fb455cbdb049441d53b8c1a73}} 
{\bfseries \$results\+Avis} = \$result\+Avis-\/$>$fetch()
\item 
\mbox{\Hypertarget{_achat_8php_a882c7c06520853649119d73d2eeab63a}\label{_achat_8php_a882c7c06520853649119d73d2eeab63a}} 
{\bfseries if} (is\+\_\+numeric(trim( \$results\+Avis\mbox{[}0\mbox{]})))
\item 
\mbox{\Hypertarget{_achat_8php_a18e1ae9be95cd9381877bb30f686cd38}\label{_achat_8php_a18e1ae9be95cd9381877bb30f686cd38}} 
{\bfseries \$thedate} = trim(\$results\mbox{[}7\mbox{]})
\item 
\mbox{\Hypertarget{_achat_8php_a481c918f8d853749e00b5942cabf599a}\label{_achat_8php_a481c918f8d853749e00b5942cabf599a}} 
{\bfseries \$date} = date(\char`\"{}d-\/m-\/Y\char`\"{}, strtotime(\$thedate))
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Fichier contenant les informations du billet. 

\begin{DoxyAuthor}{Author}
Quentin ROBERT, Mat√©o ALVES, Tanguy LAURIOU, Juan David RODRIGUEZ SINCLAIR
\end{DoxyAuthor}
Informations du billet \begin{DoxyDate}{Date}
2023-\/01-\/16 
\end{DoxyDate}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{_achat_8php_a47e5d84557d4e2df9bb250750c99976e}\label{_achat_8php_a47e5d84557d4e2df9bb250750c99976e}} 
\index{Achat.php@{Achat.php}!else@{else}}
\index{else@{else}!Achat.php@{Achat.php}}
\doxysubsubsection{\texorpdfstring{else}{else}}
{\footnotesize\ttfamily if (empty( \$\+\_\+\+SESSION\mbox{[} \textquotesingle{}user\+\_\+id\textquotesingle{}\mbox{]})==true) else}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{                        echo \textcolor{stringliteral}{'<button><a href="{}vente.php?id='} . \$idUti . \textcolor{stringliteral}{'"{}>Vendre ses billets</a></button>'}}

\end{DoxyCode}
\mbox{\Hypertarget{_achat_8php_add656216f53be1ea88b46caa6c16bb0d}\label{_achat_8php_add656216f53be1ea88b46caa6c16bb0d}} 
\index{Achat.php@{Achat.php}!if@{if}}
\index{if@{if}!Achat.php@{Achat.php}}
\doxysubsubsection{\texorpdfstring{if}{if}}
{\footnotesize\ttfamily if (\begin{DoxyParamCaption}\item[{isset( \$image)}]{ }\end{DoxyParamCaption})}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{ }
\DoxyCodeLine{                            \$idUtilisateur = \$\_SESSION[\textcolor{stringliteral}{'user\_id'}]}

\end{DoxyCode}
